{"version":3,"sources":["firebase.js","contexts/AuthContext.js","components/Signup.js","hooks/useStorage.js","components/ProgressBar.js","hooks/useFirestore.js","hooks/useFirestore2.js","components/ImageGrid.js","components/Dashboard.js","components/Login.js","components/ForgotPassword.js","components/UpdateProfile.js","components/privateRoute.js","components/App.js","index.js"],"names":["app","firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","projectStorage","storage","projectFirestore","firestore","timestamp","FieldValue","serverTimestamp","auth","AuthContext","React","createContext","useAuth","useContext","AuthProvider","children","useState","currentUser","setCurrentUser","loading","setLoading","useEffect","onAuthStateChanged","user","value","signup","email","password","createUserWithEmailAndPassword","login","signInWithEmailAndPassword","logout","signOut","resetPassword","sendPasswordResetEmail","updateEmail","updatePassword","deleteAccount","delete","updateDisplayName","userName","updateProfile","displayName","Provider","useStyles","makeStyles","theme","root","margin","spacing","width","container","height","card","marginBottom","paddingBottom","inputField","maxWidth","Signup","classes","emailRef","useRef","passwordRef","passwordConfirmRef","displayNameRef","error","setError","history","useHistory","e","a","preventDefault","current","then","result","push","message","Grid","className","justify","alignItems","item","xs","sm","Card","direction","Typography","align","variant","component","Alert","severity","onSubmit","TextField","required","id","label","inputRef","textalign","type","autoComplete","Button","disabled","color","to","useStorage","file","progress","setProgress","url","setUrl","storageRef","ref","name","collectionRef","collection","put","on","snap","percentage","bytesTransferred","totalBytes","err","getDownloadURL","createdAt","add","userID","uid","ProgressBar","setFile","console","log","style","useFirestore","docs","setDocs","unsub","orderBy","onSnapshot","documents","forEach","doc","data","useFirestore2","docs2","ImageGrid","map","md","lg","src","alt","internalCardContainer","padding","mainContainer","input","display","info","marginTop","button","paddingTop","icon","fontSize","Dashboard","open","setOpen","handleClose","types","gutterBottom","accept","onChange","selected","target","files","includes","htmlFor","IconButton","aria-label","PhotoCamera","Link","AccountBox","onClick","ExitToApp","DeleteForever","Dialog","onClose","aria-labelledby","aria-describedby","DialogTitle","DialogContent","DialogContentText","DialogActions","autoFocus","Login","ForgotPassword","setMessage","UpdateProfile","promises","Promise","all","catch","finally","defaultValue","placeholder","InputLabelProps","shrink","PrivateRoute","Component","rest","render","props","minHeight","App","exact","path","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.35687c84.chunk.js","sourcesContent":["import firebase from \"firebase/app\"\nimport 'firebase/storage';\nimport 'firebase/firestore';\nimport \"firebase/auth\"\n\n//firebase authenticatie verkregen vanuit local env bestand\nconst app = firebase.initializeApp({\n    apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n    authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n    projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n    storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n    messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\n    appId: process.env.REACT_APP_FIREBASE_APP_ID,\n})\n\n//storage\nconst projectStorage = firebase.storage();\nconst projectFirestore = firebase.firestore();\nconst timestamp = firebase.firestore.FieldValue.serverTimestamp;\n//authenticatie\nexport const auth = app.auth()\n//firebase\nexport { app, projectFirestore, projectStorage, timestamp };","import React, { useContext, useState, useEffect } from 'react'\nimport { auth } from '../firebase'\nconst AuthContext = React.createContext()\n\n//useAuth hook\nexport function useAuth() {\n    return useContext(AuthContext)\n}\n\nexport function AuthProvider({ children }) {\n    const [currentUser, setCurrentUser] = useState()\n    const [loading, setLoading] = useState(true)\n\n    //create user\n    function signup(email, password) {\n        return auth.createUserWithEmailAndPassword(email, password)\n    }\n    //login function\n    function login(email, password) {\n        return auth.signInWithEmailAndPassword(email, password)\n    }\n\n    //logout function\n    function logout() {\n        return auth.signOut()\n    }\n\n    //reset password\n    function resetPassword(email) {\n        return auth.sendPasswordResetEmail(email)\n    }\n    // Update email\n    function updateEmail(email) {\n        return auth.currentUser.updateEmail(email)\n    }\n    // Update password\n    function updatePassword(password) {\n        return auth.currentUser.updatePassword(password)\n    }\n    //delete account\n    function deleteAccount() {\n        return auth.currentUser.delete()\n    }\n    //update displayname\n    function updateDisplayName(userName) {\n        return auth.currentUser.updateProfile({\n            displayName: userName,\n        })\n    }\n\n    //useEffect so you only run it when mounting component\n    useEffect(() => {\n        //firebase method to set current user\n        const unsubscribe = auth.onAuthStateChanged(user => {\n            setCurrentUser(user)\n            //no loading when there already is a user\n            setLoading(false)\n        })\n        return unsubscribe\n    }, [])\n\n    //Export\n    const value = {\n        currentUser,\n        signup,\n        login,\n        logout,\n        resetPassword,\n        updateEmail,\n        updatePassword,\n        deleteAccount,\n        updateDisplayName,\n    }\n    return (\n        //value contains all the information you want to provide at authentication\n        //See above\n        <AuthContext.Provider value={value}>\n            {!loading && children}\n        </AuthContext.Provider>\n    )\n}\n","import React, { useRef, useState } from 'react';\nimport { TextField, Card, Button, Grid, Typography } from '@material-ui/core';\nimport Alert from '@material-ui/lab/Alert';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useAuth } from '../contexts/AuthContext'\nimport { Link, useHistory } from \"react-router-dom\"\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        '& > *': {\n            margin: theme.spacing(1),\n        },\n        width: '80%',\n    },\n    container: {\n        height: '100vh',\n    },\n    card: {\n        width: '100%',\n        //Below the card itself\n        marginBottom: 10,\n        //Below the signup button\n        paddingBottom: 5,\n    },\n    inputField: {\n        width: '100%',\n        maxWidth: 350,\n    }\n}));\n\nexport default function Signup() {\n    const classes = useStyles()\n\n    const emailRef = useRef();\n    const passwordRef = useRef();\n    const passwordConfirmRef = useRef();\n    const displayNameRef = useRef();;\n    const { signup } = useAuth();\n    const [error, setError] = useState('');\n    const [loading, setLoading] = useState(false);\n    const history = useHistory();\n\n\n\n    //handles the signup\n    //function that handles the submit info (email and password) and error handling (see useRef hooks)\n    async function handleSubmit(e) {\n        //preventDefault prevents refreshing\n        e.preventDefault()\n\n\n        //if both passwords are not the same\n        if (passwordRef.current.value !== passwordConfirmRef.current.value) {\n            return (\n                setError(\"Passwords do not match\")\n            )\n        }\n        // Sign up\n        try {\n            setError(\"\")\n            setLoading(true)\n            await signup(emailRef.current.value, passwordRef.current.value)\n                .then(function (result) {\n                    return result.user.updateProfile({\n                        displayName: displayNameRef.current.value\n                    })\n                })\n\n            // .then(function (cred) {\n            //     return collectionRef.doc(cred.user.uid).set({\n            //         userID: currentUser.uid\n            //     })\n            // })\n\n            history.push(\"/\")\n\n            // Firebase signup error\n        } catch (error) {\n            setError(error.message);\n        }\n        setLoading(false)\n    }\n\n    return (\n        <Grid container className={classes.container} justify='center' alignItems='center'>\n            <Grid item xs={12} sm={6}>\n                <Card className={classes.card}>\n                    <Grid container justify=\"center\" direction=\"column\" alignItems=\"center\" >\n                        <Typography align='center' variant=\"h3\" component=\"h2\">\n                            Sign up\n                        </Typography>\n                        {/* Errors */}\n                        {error && <Alert severity=\"error\">{error}</Alert>}\n                        <form onSubmit={handleSubmit} align='center' className={classes.root} >\n                            {/* Username + email */}\n                            <Grid item>\n                                {/* Username */}\n                                <TextField\n                                    className={classes.inputField}\n                                    required\n                                    id=\"display-name\"\n                                    label=\"Display Name\"\n                                    inputRef={displayNameRef}\n                                    textalign='center'\n                                />\n                                {/* Email */}\n                                <TextField\n                                    className={classes.inputField}\n                                    required\n                                    id=\"email-input\"\n                                    label=\"Email\"\n                                    inputRef={emailRef}\n                                    textalign='center'\n                                />\n                            </Grid>\n                            {/* Password */}\n                            <Grid item>\n                                <TextField\n                                    className={classes.inputField}\n                                    required\n                                    id=\"password-input\"\n                                    label=\"Password\"\n                                    type=\"password\"\n                                    autoComplete=\"current-password\"\n                                    inputRef={passwordRef}\n                                />\n                            </Grid>\n                            {/* Password check */}\n                            <Grid item>\n                                <TextField\n                                    className={classes.inputField}\n                                    required\n                                    id=\"password-confirm\"\n                                    label=\"Password-confirm\"\n                                    type=\"password\"\n                                    autoComplete=\"current-password\"\n                                    inputRef={passwordConfirmRef}\n                                />\n                            </Grid>\n                            <Button disabled={loading} variant=\"contained\" color=\"primary\" type=\"submit\">\n                                Sign Up\n                            </Button>\n                        </form>\n                    </Grid>\n                </Card>\n                <Typography align='center' variant=\"subtitle1\" component=\"h2\">\n                    Already have an account? <Link to=\"/login\">Log in</Link>\n                </Typography>\n            </Grid>\n        </Grid>\n    )\n}\n","import { useState, useEffect } from 'react';\nimport { projectStorage, projectFirestore, timestamp } from '../firebase'\nimport { useAuth } from '../contexts/AuthContext'\n\n//Upload file to firebase storage\nconst useStorage = (file) => {\n    //progress of load\n    const [progress, setProgress] = useState(0);\n    //any errors while uploading\n    const [error, setError] = useState(null);\n    //url after uploading\n    const [url, setUrl] = useState(null);\n    const { currentUser } = useAuth();\n    // const [user, setUser ]\n    //all the logic uploading the file\n    useEffect(() => {\n        //references\n        const storageRef = projectStorage.ref(file.name);\n        const collectionRef = projectFirestore.collection('images');\n\n\n        //uploads the file with reference ^\n        //listener fires functions when state changes\n        //snapshot in time of the upload at that moment in time\n        storageRef.put(file).on('state_changed', (snap) => {\n            //percentage of the upload\n            let percentage = (snap.bytesTransferred / snap.totalBytes) * 100;\n            setProgress(percentage);\n        }, (err) => {\n            setError(err);\n        }, async () => {\n            const url = await storageRef.getDownloadURL();\n            const createdAt = timestamp();\n            collectionRef.add({ url, createdAt, userID: currentUser.uid })\n            setUrl(url);\n        })\n    }, [file, currentUser]) //everytime file changes this effect will fire\n    //these will be the the values you can access\n    return { progress, url, error }\n}\n\nexport default useStorage;\n","import React, { useEffect } from 'react'\nimport useStorage from '../hooks/useStorage'\n\nconst ProgressBar = ({ file, setFile }) => {\n    const { url, progress } = useStorage(file);\n    console.log(progress, url);\n\n    //if file is null there is no more progressbar\n    //so reset the file to null after obtaining a url, which means it has finished uploading\n    useEffect(() => {\n        if (url) {\n            setFile(null);\n        }\n    }, [url, setFile])\n\n    return (\n        <div className=\"progress-bar\" style={{ width: progress + '%' }}></div>\n    )\n}\nexport default ProgressBar;","import { useState, useEffect } from 'react';\nimport { projectFirestore } from '../firebase';\n\n//This hook gets all documents saved in firestore collection\nconst useFirestore = (collection) => {\n    const [docs, setDocs] = useState([]);\n\n    useEffect(() => {\n        const unsub = projectFirestore.collection(collection)\n            .orderBy('createdAt', 'desc')\n            .onSnapshot((snap) => {\n                let documents = [];\n                snap.forEach(doc => {\n                    // For each document push these data into documents\n                    documents.push({ ...doc.data(), id: doc.id })\n                });\n                setDocs(documents)\n            })\n        //unsub when no longer using collection\n        return () => unsub();\n    }, [collection])\n\n    return { docs };\n}\n\nexport default useFirestore;","import { useState, useEffect } from 'react';\nimport { projectFirestore } from '../firebase';\n\n//This hook gets all documents saved in firestore collection\nconst useFirestore2 = (collection) => {\n    const [docs2, setDocs] = useState([]);\n\n    useEffect(() => {\n        const unsub = projectFirestore.collection(collection)\n            // .orderBy('createdAt', 'desc')\n            .onSnapshot((snap) => {\n                let documents = [];\n                snap.forEach(doc => {\n                    // For each document push these data into documents\n                    documents.push({ ...doc.data(), id: doc.id })\n                });\n                setDocs(documents)\n            })\n        //unsub when no longer using collection\n        return () => unsub();\n    }, [collection])\n\n    return { docs2 };\n}\n\nexport default useFirestore2;","import React from 'react';\nimport useFirestore from '../hooks/useFirestore';\nimport useFirestore2 from '../hooks/useFirestore2'\nimport { Grid, Typography } from '@material-ui/core'\n\nconst ImageGrid = () => {\n    const { docs } = useFirestore('images')\n    const { docs2 } = useFirestore2('accounts')\n\n\n    console.log(docs2);\n\n    return <Grid container justify=\"center\">\n        {docs && docs.map(doc => (\n            <Grid className=\"img-item\" item key={doc.id} xs={12} md={6} lg={4}>\n                <img src={doc.url} alt=\"uploaded pic\" />\n                <Typography variant=\"subtitle1\"> By {doc.userID} </Typography>\n            </Grid>\n        ))}\n    </Grid>\n\n    // return <Grid container justify=\"center\">\n    //     {docs2.map((user) => (\n    //         <Grid className=\"img-item\" item key={user.userID} xs={12} md={6} lg={4}>\n    //             {docs\n    //                 .filter((image) => image.userID === user.userID)\n    //                 .map((image) => (\n    //                     <img\n    //                         src={image.url}\n    //                         key={`image-${user.userID}`}\n    //                         alt=\"uploaded pic\"\n    //                     />\n    //                 ))}\n    //             <Typography variant=\"subtitle1\"> By {user.userName} </Typography>\n    //         </Grid>\n    //     ))}\n    // </Grid>\n}\nexport default ImageGrid;","import React, { useState } from 'react'\nimport { Grid, Typography, Card, Button, makeStyles, IconButton } from \"@material-ui/core\"\nimport { PhotoCamera, AccountBox, ExitToApp, DeleteForever } from '@material-ui/icons'\nimport { Link, useHistory } from \"react-router-dom\"\nimport { Alert } from \"@material-ui/lab\"\nimport { useAuth } from '../contexts/AuthContext'\nimport ProgressBar from './ProgressBar'\nimport ImageGrid from './ImageGrid'\n\nimport { Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle } from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n    internalCardContainer: {\n        '& > *': {\n            margin: theme.spacing(0),\n        },\n        padding: 5,\n    },\n    mainContainer: {\n        width: '100%',\n    },\n    input: {\n        display: 'none',\n    },\n    info: {\n        width: \"100%\",\n    },\n    card: {\n        width: '100%',\n        maxWidth: 600,\n        marginTop: 5,\n        marginBottom: 5,\n    },\n    button: {\n        paddingTop: 5,\n        paddingBottom: 10,\n    },\n    icon: {\n        fontSize: '2em',\n    },\n}));\n\nexport default function Dashboard() {\n    const classes = useStyles()\n    const [error, setError] = useState(\"\")\n    const history = useHistory()\n    const { currentUser, logout, deleteAccount } = useAuth()\n\n    // Dialog box \n    const [open, setOpen] = React.useState(false);\n\n    const handleClickOpen = () => {\n        setOpen(true);\n    };\n\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    //Log out handler\n    async function handleLogout() {\n        setError('')\n        try {\n            await logout()\n            history.push('/login')\n        }\n        catch {\n            setError('Failed to logout')\n        }\n    }\n\n    //Delete account handler\n    async function handleDelete() {\n        setError('')\n        try {\n            await deleteAccount()\n            history.push('/login')\n        }\n        catch (error) {\n            setError(error.message)\n        }\n    }\n\n    //Store image hook\n    const [file, setFile] = useState(null);\n\n    //Allowed filetypes\n    const types = ['image/png', 'image/jpeg'];\n\n    //Image handler\n    //selected image\n    const changeHandler = (e) => {\n        let selected = e.target.files[0];\n        //Check if a file is selected\n        if (selected && types.includes(selected.type)) {\n            //store the file\n            setFile(selected);\n            setError('');\n        }\n        else {\n            setFile(null);\n            setError('Please select an image file (png or jpeg)')\n        }\n    }\n\n    return (\n        // Main container with (Profile info and upload card) and (Image grid)\n        // <Grid container justify=\"center\" direction=\"column\" alignItems=\"flex-start\" className={classes.mainContainer}>\n        <Grid container justify=\"center\">\n\n            {/* Profile + upload card container */}\n            {/* <Grid container item xs={12} sm={8} justify=\"center\" direction=\"column\" alignItems=\"flex-start\"> */}\n            <Grid item xs={12} sm={8} align=\"center\">\n                <Card className={classes.card} align=\"center\">\n                    <Grid container direction=\"column\" className={classes.internalCardContainer}>\n                        {/* User info */}\n                        <Grid item align=\"center\">\n                            <Typography align=\"center\" gutterBottom variant=\"h2\">Storygram</Typography>\n                            <Typography>Email: {currentUser.email} </Typography>\n                            <Typography>Username: {currentUser.displayName} </Typography>\n                            <Typography>UserID: {currentUser.uid} </Typography>\n                        </Grid>\n\n                        {/* Information message output */}\n                        <Grid item className={classes.info}>\n                            {/* If left statement then right statement.. */}\n                            {error && <Alert severity=\"error\">{error}</Alert>}\n                            {file && <Alert severity=\"info\">Selected image: {file.name}</Alert>}\n                        </Grid>\n\n                        <Grid item>\n                            {file && <ProgressBar align=\"left\" file={file} setFile={setFile} />}\n                        </Grid>\n\n                        {/* Action buttons container */}\n                        <Grid container direction=\"row\">\n                            {/* Upload image */}\n                            <Grid item align='center' className={classes.button} xs={12} sm={3}>\n                                <input\n                                    accept=\"image/*\"\n                                    className={classes.input}\n                                    id=\"icon-button-file\"\n                                    type=\"file\"\n                                    onChange={changeHandler}\n                                />\n                                <label htmlFor=\"icon-button-file\">\n                                    <IconButton color=\"primary\" aria-label=\"upload picture\" component=\"span\" >\n                                        <PhotoCamera className={classes.icon} />\n                                    </IconButton>\n                                </label>\n                                <Typography>Upload an image</Typography>\n                            </Grid>\n\n                            {/* Update profile info */}\n                            <Grid item align='center' className={classes.button} xs={12} sm={3}>\n                                <IconButton color=\"primary\" aria-label=\"account\" component={Link} to={\"./UpdateProfile\"} >\n                                    <AccountBox className={classes.icon} />\n                                </IconButton>\n                                <Typography>Update account</Typography>\n                            </Grid>\n\n                            {/* Logout button */}\n                            <Grid item align='center' className={classes.button} xs={12} sm={3}>\n                                {/* <Button variant=\"contained\" onClick={handleLogout}>Log out</Button> */}\n                                <IconButton color=\"primary\" aria-label=\"log out\" onClick={handleLogout} component=\"span\" >\n                                    <ExitToApp className={classes.icon} />\n                                </IconButton>\n                                <Typography>Log out</Typography>\n                            </Grid>\n\n                            {/* Delete account button */}\n                            <Grid item align='center' className={classes.button} xs={12} sm={3}>\n                                <IconButton color=\"secondary\" aria-label=\"log out\" onClick={handleClickOpen} component=\"span\" >\n                                    <DeleteForever className={classes.icon} />\n                                </IconButton>\n                                <Typography>Delete Account</Typography>\n                                <Dialog\n                                    open={open}\n                                    onClose={handleClose}\n                                    aria-labelledby=\"alert-dialog-title\"\n                                    aria-describedby=\"alert-dialog-description\"\n                                >\n                                    <DialogTitle id=\"alert-dialog-title\">{\"Are you sure you want to delete your account?\"}</DialogTitle>\n                                    <DialogContent>\n                                        <DialogContentText id=\"alert-dialog-description\">\n                                            Deleting your account can not be undone.\n                                </DialogContentText>\n                                    </DialogContent>\n                                    <DialogActions>\n                                        <Button onClick={handleClose} color=\"primary\">\n                                            Cancel\n                                    </Button>\n                                        <Button onClick={handleDelete} color=\"primary\" autoFocus>\n                                            Delete\n                                    </Button>\n                                    </DialogActions>\n                                </Dialog>\n                            </Grid>\n                        </Grid>\n                    </Grid>\n                </Card>\n            </Grid>\n            {/* </Grid> */}\n\n            {/* Image grid imported from ImageGrid.js*/}\n            <Grid item align=\"center\">\n                <ImageGrid />\n            </Grid>\n\n        </Grid >\n    )\n}\n","import React, { useRef, useState } from 'react';\nimport { TextField, Card, Button, Grid, Typography } from '@material-ui/core';\nimport Alert from '@material-ui/lab/Alert';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useAuth } from '../contexts/AuthContext';\n//useHistory hook for rerouting to dashboard after login\nimport { Link, useHistory } from \"react-router-dom\";\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        '& > *': {\n            margin: theme.spacing(1),\n        },\n        width: '80%',\n    },\n    container: {\n        height: '100vh',\n    },\n    card: {\n        width: '100%',\n        //Below the card itself\n        marginBottom: 10,\n        //Below the signup button\n        paddingBottom: 5,\n    },\n    inputField: {\n        width: '100%',\n        maxWidth: 350,\n    }\n}));\n\nexport default function Login() {\n    const classes = useStyles()\n\n    const emailRef = useRef()\n    const passwordRef = useRef()\n    const { login } = useAuth()\n    const [error, setError] = useState('')\n    const [loading, setLoading] = useState(false)\n    const history = useHistory()\n\n    //handles the signup\n    //function that handles the submit info (email and password) and error handling (see useRef hooks)\n    async function handleSubmit(e) {\n        //preventDefault prevents refreshing\n        e.preventDefault();\n        try {\n            setError(\"\");\n            setLoading(true);\n            //login logic\n            await login(emailRef.current.value, passwordRef.current.value);\n            history.push(\"/\");\n        } catch {\n            setError(\"Failed to log in\");\n        }\n        setLoading(false);\n    }\n\n    return (\n        <Grid container className={classes.container} justify='center' alignItems='center'>\n            <Grid item xs={12} sm={6}>\n                <Card className={classes.card}>\n                    <Grid container justify=\"center\" direction=\"column\" alignItems=\"center\" >\n                        <Typography align='center' variant=\"h3\" component=\"h2\">\n                            Login\n                        </Typography>\n                        {error && <Alert severity=\"error\">{error}</Alert>}\n                        <form onSubmit={handleSubmit} align='center' className={classes.root} >\n                            <Grid item>\n                                <TextField\n                                    className={classes.inputField}\n                                    required\n                                    id=\"email-input\"\n                                    label=\"Email\"\n                                    inputRef={emailRef}\n                                    textalign='center'\n                                />\n                            </Grid>\n                            <Grid item>\n                                <TextField\n                                    className={classes.inputField}\n                                    required\n                                    id=\"password-input\"\n                                    label=\"Password\"\n                                    type=\"password\"\n                                    autoComplete=\"current-password\"\n                                    inputRef={passwordRef}\n                                />\n                            </Grid>\n                            <Button disabled={loading} variant=\"contained\" color=\"primary\" type=\"submit\">\n                                Login\n                            </Button>\n                            <Typography><Link to='/forgot-password'>Forgot password?</Link></Typography>\n                        </form>\n                    </Grid>\n                </Card>\n                <Typography align='center' variant=\"subtitle1\" component=\"h2\">\n                    Need an account? <Link to=\"/signup\">Sign up</Link>\n                </Typography>\n            </Grid>\n        </Grid>\n    )\n}\n","import React, { useRef, useState } from 'react';\nimport { TextField, Card, Button, Grid, Typography } from '@material-ui/core';\nimport Alert from '@material-ui/lab/Alert';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useAuth } from '../contexts/AuthContext';\n//useHistory hook for rerouting to dashboard after login\nimport { Link } from \"react-router-dom\";\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        '& > *': {\n            margin: theme.spacing(1),\n        },\n        width: '80%',\n    },\n    container: {\n        height: '100vh',\n    },\n    card: {\n        width: '100%',\n        //Below the card itself\n        marginBottom: 10,\n        //Below the signup button\n        paddingBottom: 5,\n    },\n    inputField: {\n        width: '100%',\n        maxWidth: 350,\n    }\n}));\n\nexport default function ForgotPassword() {\n    const classes = useStyles()\n\n    const emailRef = useRef()\n    const { resetPassword } = useAuth()\n    const [error, setError] = useState('')\n    const [message, setMessage] = useState('')\n    const [loading, setLoading] = useState(false)\n\n\n    //handles the signup\n    //function that handles the submit info (email and password) and error handling (see useRef hooks)\n    async function handleSubmit(e) {\n        //preventDefault prevents refreshing\n        e.preventDefault()\n        try {\n            setMessage('')\n            setError(\"\")\n            setLoading(true)\n            //reset \n            await resetPassword(emailRef.current.value)\n            setMessage('Check your email')\n        } catch {\n            setError(\"Failed to reset password\")\n        }\n        setLoading(false)\n    }\n\n    return (\n        <Grid container className={classes.container} justify='center' alignItems='center'>\n            <Grid item xs={12} sm={6}>\n                <Card className={classes.card}>\n                    <Grid container justify=\"center\" direction=\"column\" alignItems=\"center\" >\n                        <Typography align='center' variant=\"h3\" component=\"h2\">\n                            Reset Password\n                        </Typography>\n                        {error && <Alert severity=\"error\">{error}</Alert>}\n                        {message && <Alert severity=\"success\">{message}</Alert>}\n                        <form onSubmit={handleSubmit} align='center' className={classes.root} >\n                            <Grid item>\n                                <TextField\n                                    className={classes.inputField}\n                                    required\n                                    id=\"email-input\"\n                                    label=\"Email\"\n                                    inputRef={emailRef}\n                                    textalign='center'\n                                />\n                            </Grid>\n                            <Button disabled={loading} variant=\"contained\" color=\"primary\" type=\"submit\">\n                                Reset Password\n                            </Button>\n                            <Typography><Link to='/login'>Login</Link></Typography>\n                        </form>\n                    </Grid>\n                </Card>\n                <Typography align='center' variant=\"subtitle1\" component=\"h2\">\n                    Need an account? <Link to=\"/signup\">Sign up</Link>\n                </Typography>\n            </Grid>\n        </Grid>\n    )\n}\n","import React, { useRef, useState } from 'react';\nimport { TextField, Card, Button, Grid, Typography } from '@material-ui/core';\nimport Alert from '@material-ui/lab/Alert';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useAuth } from '../contexts/AuthContext'\nimport { Link, useHistory } from \"react-router-dom\"\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        '& > *': {\n            margin: theme.spacing(1),\n        },\n        width: '80%',\n    },\n    container: {\n        height: '100vh',\n    },\n    card: {\n        width: '100%',\n        //Below the card itself\n        marginBottom: 10,\n        //Below the signup button\n        paddingBottom: 5,\n    },\n    inputField: {\n        width: '100%',\n        maxWidth: 350,\n    }\n}));\n\nexport default function UpdateProfile() {\n    const classes = useStyles()\n\n    const emailRef = useRef();\n    const passwordRef = useRef();\n    const passwordConfirmRef = useRef();\n    const displayNameRef = useRef();\n    const { currentUser, updatePassword, updateEmail, updateDisplayName } = useAuth();\n    const [error, setError] = useState('');\n    const [loading, setLoading] = useState(false);\n    const history = useHistory();\n\n\n    //handles the signup\n    //function that handles the submit info (email and password) and error handling (see useRef hooks)\n    function handleSubmit(e) {\n        //preventDefault prevents refreshing\n        e.preventDefault()\n        //if both passwords are not the same\n        if (passwordRef.current.value !== passwordConfirmRef.current.value) {\n            return setError(\"Passwords do not match\")\n        }\n        //wait untill all promises finish before throwing errors\n        const promises = []\n        setLoading(true)\n        setError(\"\")\n\n        //Update email\n        //if  email is not equal to current email\n        if (emailRef.current.value !== currentUser.email) {\n            //update email with current value\n            promises.push(updateEmail(emailRef.current.value))\n        }\n\n        //Update Username\n        //if  username is not equal to current username\n        if (displayNameRef.current.value !== currentUser.displayName) {\n            //update username with current value\n            promises.push(updateDisplayName(displayNameRef.current.value))\n        }\n\n        //Update password\n        //update password with current value (if there is a value ofcourse)\n        if (passwordRef.current.value) {\n            promises.push(updatePassword(passwordRef.current.value))\n        }\n\n        //if all promises are succsful redirect to homepage\n        Promise.all(promises).then(() => {\n            history.push('/')\n            //catch the error\n        }).catch((error) => {\n            setError(error.message)\n            //setLoading state to false again\n        }).finally(() => {\n            setLoading(false)\n        })\n    }\n\n    return (\n        <Grid container className={classes.container} justify='center' alignItems='center'>\n            <Grid item xs={12} sm={6}>\n                <Card className={classes.card}>\n                    <Grid container justify=\"center\" direction=\"column\" alignItems=\"center\" >\n                        <Typography align='center' variant=\"h3\" component=\"h2\">\n                            Update Profile\n                        </Typography>\n                        {error && <Alert severity=\"error\">{error}</Alert>}\n                        <form onSubmit={handleSubmit} align='center' className={classes.root} >\n                            {/* Grid item for username and email */}\n                            <Grid item>\n                                {/* Username */}\n                                <TextField\n                                    className={classes.inputField}\n                                    id=\"display-name\"\n                                    label=\"Display Name\"\n                                    inputRef={displayNameRef}\n                                    textalign='center'\n                                    defaultValue={currentUser.displayName}\n                                    placeholder=\"Leave empty to keep the same\"\n                                    InputLabelProps={{\n                                        shrink: true,\n                                    }}\n                                />\n                                {/* Email */}\n                                <TextField\n                                    className={classes.inputField}\n                                    required\n                                    id=\"email-input\"\n                                    label=\"Email\"\n                                    inputRef={emailRef}\n                                    textalign='center'\n                                    defaultValue={currentUser.email}\n                                />\n                            </Grid>\n                            {/* Password */}\n                            <Grid item>\n                                <TextField\n                                    className={classes.inputField}\n                                    id=\"password-input\"\n                                    label=\"Password\"\n                                    type=\"password\"\n                                    autoComplete=\"current-password\"\n                                    inputRef={passwordRef}\n                                    placeholder=\"Leave empty to keep the same\"\n                                    InputLabelProps={{\n                                        shrink: true,\n                                    }}\n                                />\n                            </Grid>\n                            {/* Password check */}\n                            <Grid item>\n                                <TextField\n                                    className={classes.inputField}\n                                    id=\"password-confirm\"\n                                    label=\"Password-confirm\"\n                                    type=\"password\"\n                                    autoComplete=\"current-password\"\n                                    inputRef={passwordConfirmRef}\n                                    placeholder=\"Leave empty to keep the same\"\n                                    InputLabelProps={{\n                                        shrink: true,\n                                    }}\n                                />\n                            </Grid>\n                            <Button disabled={loading} variant=\"contained\" color=\"primary\" type=\"submit\">\n                                Update\n                            </Button>\n                        </form>\n                    </Grid>\n                </Card>\n                <Typography align='center' variant=\"subtitle1\" component=\"h2\">\n                    <Link to=\"/\">Cancel</Link>\n                </Typography>\n            </Grid>\n        </Grid>\n    )\n}\n","import React from \"react\"\nimport { Route, Redirect } from \"react-router-dom\"\nimport { useAuth } from \"../contexts/AuthContext\"\n\nexport default function PrivateRoute({ component: Component, ...rest }) {\n    const { currentUser } = useAuth()\n\n    return (\n        //This is important as to not render the dashboard component when no user is logged in or after logging out\n        <Route\n            {...rest}\n            //If there is a current user then render out the component\n            //If there is no user, redirect to login page \n            render={props => {\n                return currentUser ? <Component {...props} /> : <Redirect to=\"/login\" />\n            }}\n        ></Route>\n    )\n}","import { AuthProvider } from \"../contexts/AuthContext\";\nimport Signup from \"./Signup\";\nimport Dashboard from \"./Dashboard\";\nimport Login from \"./Login\";\nimport ForgotPassword from \"./ForgotPassword\"\nimport UpdateProfile from \"./UpdateProfile\"\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom';\nimport { Grid, makeStyles } from '@material-ui/core'\nimport PrivateRoute from './privateRoute'\n\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    minHeight: '100vh',\n    width: '100vw',\n  },\n}));\n\nfunction App() {\n  const classes = useStyles()\n  return (\n    <Grid container className={classes.container}>\n      <Router>\n        <AuthProvider>\n          <Switch>\n            <PrivateRoute exact path=\"/\" component={Dashboard} />\n            <PrivateRoute exact path=\"/UpdateProfile\" component={UpdateProfile} />\n            <Route path=\"/signup\" component={Signup} />\n            <Route path=\"/login\" component={Login} />\n            <Route path=\"/forgot-password\" component={ForgotPassword} />\n          </Switch>\n        </AuthProvider>\n      </Router>\n    </Grid>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}