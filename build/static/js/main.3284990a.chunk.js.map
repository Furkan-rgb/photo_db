{"version":3,"sources":["firebase.js","contexts/AuthContext.js","components/Signup.js","hooks/useStorage.js","components/ProgressBar.js","hooks/useFirestore.js","hooks/useFirestore2.js","components/ImageGrid.js","components/Dashboard.js","components/Login.js","components/ForgotPassword.js","components/UpdateProfile.js","components/privateRoute.js","components/App.js","serviceWorker.js","index.js"],"names":["app","firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","projectStorage","storage","projectFirestore","firestore","timestamp","FieldValue","serverTimestamp","auth","AuthContext","React","createContext","useAuth","useContext","AuthProvider","children","useState","currentUser","setCurrentUser","loading","setLoading","useEffect","onAuthStateChanged","user","value","signup","email","password","createUserWithEmailAndPassword","login","signInWithEmailAndPassword","logout","signOut","resetPassword","sendPasswordResetEmail","updateEmail","updatePassword","deleteAccount","delete","updateDisplayName","userName","updateProfile","displayName","Provider","useStyles","makeStyles","theme","root","margin","spacing","width","container","height","card","marginBottom","paddingBottom","inputField","maxWidth","Signup","classes","emailRef","useRef","passwordRef","passwordConfirmRef","displayNameRef","error","setError","history","useHistory","accounts","collection","e","a","preventDefault","current","result","console","log","doc","uid","set","userID","push","message","Grid","className","justify","alignItems","item","xs","sm","Card","direction","Typography","align","variant","component","Alert","severity","onSubmit","TextField","required","id","label","inputRef","textalign","type","autoComplete","Button","disabled","color","to","useStorage","file","progress","setProgress","url","setUrl","storageRef","ref","name","collectionRef","put","on","snap","percentage","bytesTransferred","totalBytes","err","getDownloadURL","createdAt","add","fabProgress","green","position","top","left","zIndex","ProgressBar","setFile","CircularProgress","size","useFirestore","docs","setDocs","unsub","orderBy","onSnapshot","documents","forEach","data","useFirestore2","docs2","ImageGrid","alert","useAlert","setMouse","columnsCountBreakPoints","350","750","900","gutter","map","image","filter","onMouseEnter","onMouseLeave","small","medium","alt","hideDownload","hideZoom","gutterBottom","imageId","IconButton","aria-label","onClick","imgRef","refFromURL","then","catch","success","handleDeleteImage","DeleteForever","internalCardContainer","padding","mainContainer","input","display","info","marginTop","button","paddingTop","icon","fontSize","xsAppBar","bottom","fabButton","right","grow","flexGrow","toolbar","mixins","menuButton","marginRight","title","Dashboard","handleLogout","types","changeHandler","selected","target","files","includes","Hidden","xsDown","AppBar","Toolbar","accept","onChange","htmlFor","edge","Link","smUp","Fab","Login","ForgotPassword","setMessage","UpdateProfile","dialog","setOpenDialog","closeDialog","promises","update","Promise","all","finally","defaultValue","placeholder","InputLabelProps","shrink","Dialog","open","onClose","aria-labelledby","aria-describedby","DialogTitle","DialogContent","DialogContentText","DialogActions","autoFocus","PrivateRoute","Component","rest","render","props","minHeight","App","basename","exact","path","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","createMuiTheme","palette","primary","teal","secondary","orange","typography","useNextVariants","h1","fontFamily","options","positions","BOTTOM_CENTER","timeout","offset","transition","transitions","SCALE","ReactDOM","StrictMode","template","AlertTemplate","document","getElementById","URL","href","origin","addEventListener","fetch","headers","response","contentType","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.3284990a.chunk.js","sourcesContent":["//This file arranges the connection between the app and firebase\nimport firebase from \"firebase/app\"\nimport 'firebase/storage';\nimport 'firebase/firestore';\nimport \"firebase/auth\"\n\n//firebase authenticatie obtained from local env file\nconst app = firebase.initializeApp({\n    apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n    authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n    projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n    storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n    messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\n    appId: process.env.REACT_APP_FIREBASE_APP_ID,\n})\n\n//storage\nconst projectStorage = firebase.storage();\nconst projectFirestore = firebase.firestore();\nconst timestamp = firebase.firestore.FieldValue.serverTimestamp;\n//authenticatie\nexport const auth = app.auth()\n//firebase exports to use in other components\nexport { app, projectFirestore, projectStorage, timestamp };","import React, { useContext, useState, useEffect } from 'react'\nimport { auth } from '../firebase'\nconst AuthContext = React.createContext()\n\n//useAuth hook\nexport function useAuth() {\n    return useContext(AuthContext)\n}\n\nexport function AuthProvider({ children }) {\n    const [currentUser, setCurrentUser] = useState()\n    const [loading, setLoading] = useState(true)\n\n    //create user\n    function signup(email, password) {\n        return auth.createUserWithEmailAndPassword(email, password)\n    }\n    //login function\n    function login(email, password) {\n        return auth.signInWithEmailAndPassword(email, password)\n    }\n\n    //logout function\n    function logout() {\n        return auth.signOut()\n    }\n\n    //reset password\n    function resetPassword(email) {\n        return auth.sendPasswordResetEmail(email)\n    }\n    // Update email\n    function updateEmail(email) {\n        return auth.currentUser.updateEmail(email)\n    }\n    // Update password\n    function updatePassword(password) {\n        return auth.currentUser.updatePassword(password)\n    }\n    //delete account\n    function deleteAccount() {\n        return auth.currentUser.delete()\n    }\n    //update displayname\n    function updateDisplayName(userName) {\n        return auth.currentUser.updateProfile({\n            displayName: userName,\n        })\n    }\n\n    //useEffect so you only run it when mounting component\n    useEffect(() => {\n        //firebase method to set current user\n        const unsubscribe = auth.onAuthStateChanged(user => {\n            setCurrentUser(user)\n            //no loading when there already is a user\n            setLoading(false)\n        })\n        return unsubscribe\n    }, [])\n\n    //Export\n    const value = {\n        currentUser,\n        signup,\n        login,\n        logout,\n        resetPassword,\n        updateEmail,\n        updatePassword,\n        deleteAccount,\n        updateDisplayName,\n    }\n    return (\n        //value contains all the information you want to provide at authentication\n        //See above\n        <AuthContext.Provider value={value}>\n            {!loading && children}\n        </AuthContext.Provider>\n    )\n}\n","import React, { useRef, useState } from 'react';\nimport { TextField, Card, Button, Grid, Typography } from '@material-ui/core';\nimport Alert from '@material-ui/lab/Alert';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useAuth } from '../contexts/AuthContext'\nimport { Link, useHistory } from \"react-router-dom\"\nimport { projectFirestore } from '../firebase'\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        '& > *': {\n            margin: theme.spacing(1),\n        },\n        width: '80%',\n    },\n    container: {\n        height: '100vh',\n    },\n    card: {\n        width: '100%',\n        //Below the card itself\n        marginBottom: 10,\n        //Below the signup button\n        paddingBottom: 5,\n    },\n    inputField: {\n        width: '100%',\n        maxWidth: 350,\n    }\n}));\n\nexport default function Signup() {\n    const classes = useStyles()\n\n    const emailRef = useRef();\n    const passwordRef = useRef();\n    const passwordConfirmRef = useRef();\n    const displayNameRef = useRef();;\n    const { signup } = useAuth();\n    const [error, setError] = useState('');\n    const [loading, setLoading] = useState(false);\n    const history = useHistory();\n    const accounts = projectFirestore.collection('accounts');\n\n\n    //handles the signup\n    //function that handles the submit info (email and password) and error handling (see useRef hooks)\n    async function handleSubmit(e) {\n        //preventDefault prevents refreshing\n        e.preventDefault()\n\n        //if both passwords are not the same\n        if (passwordRef.current.value !== passwordConfirmRef.current.value) {\n            return (\n                setError(\"Passwords do not match\")\n            )\n        }\n\n        try {\n            setError(\"\");\n            setLoading(true);\n            const result = await signup(\n                emailRef.current.value,\n                passwordRef.current.value\n            );\n            //Set displayname\n            //https://medium.com/@doyinolarewaju/firebase-adding-extra-information-to-user-on-sign-up-and-other-tips-4ebe215866e\n            await result.user.updateProfile({\n                displayName: displayNameRef.current.value\n            });\n\n            console.log(result);\n\n            //Set user id\n            await accounts.doc(result.user.uid).set({\n                userID: result.user.uid,\n                userName: result.user.displayName\n            });\n            history.push(\"/\");\n        }\n\n        // Firebase signup error\n        catch (error) {\n            setError(error.message);\n        }\n        setLoading(false)\n    }\n\n    return (\n        <Grid container className={classes.container} justify='center' alignItems='center'>\n            <Grid item xs={12} sm={6}>\n                <Card className={classes.card}>\n                    <Grid container justify=\"center\" direction=\"column\" alignItems=\"center\" >\n                        <Typography align='center' variant=\"h3\" component=\"h2\">\n                            Sign up\n                        </Typography>\n                        {/* Errors */}\n                        {error && <Alert severity=\"error\">{error}</Alert>}\n                        <form onSubmit={handleSubmit} align='center' className={classes.root} >\n                            {/* Username + email */}\n                            <Grid item>\n                                {/* Username */}\n                                <TextField\n                                    className={classes.inputField}\n                                    required\n                                    id=\"display-name\"\n                                    label=\"Display Name\"\n                                    inputRef={displayNameRef}\n                                    textalign='center'\n                                />\n                                {/* Email */}\n                                <TextField\n                                    className={classes.inputField}\n                                    required\n                                    id=\"email-input\"\n                                    label=\"Email\"\n                                    inputRef={emailRef}\n                                    textalign='center'\n                                />\n                            </Grid>\n                            {/* Password */}\n                            <Grid item>\n                                <TextField\n                                    className={classes.inputField}\n                                    required\n                                    id=\"password-input\"\n                                    label=\"Password\"\n                                    type=\"password\"\n                                    autoComplete=\"current-password\"\n                                    inputRef={passwordRef}\n                                />\n                            </Grid>\n                            {/* Password check */}\n                            <Grid item>\n                                <TextField\n                                    className={classes.inputField}\n                                    required\n                                    id=\"password-confirm\"\n                                    label=\"Password-confirm\"\n                                    type=\"password\"\n                                    autoComplete=\"current-password\"\n                                    inputRef={passwordConfirmRef}\n                                />\n                            </Grid>\n                            <Button disabled={loading} variant=\"contained\" color=\"primary\" type=\"submit\">\n                                Sign Up\n                            </Button>\n                        </form>\n                    </Grid>\n                </Card>\n                <Typography align='center' variant=\"subtitle1\" component=\"h2\">\n                    Already have an account? <Link to=\"/login\">Log in</Link>\n                </Typography>\n            </Grid>\n        </Grid>\n    )\n}\n","import { useState, useEffect } from 'react';\nimport { projectStorage, projectFirestore, timestamp } from '../firebase'\nimport { useAuth } from '../contexts/AuthContext'\n\n//Upload file to firebase storage\nconst useStorage = (file) => {\n    //progress of load\n    const [progress, setProgress] = useState(0);\n    //any errors while uploading\n    const [error, setError] = useState(null);\n    //url after uploading\n    const [url, setUrl] = useState(null);\n    const { currentUser } = useAuth();\n    // const [user, setUser ]\n    //all the logic uploading the file\n    useEffect(() => {\n        //references\n        const storageRef = projectStorage.ref(file.name);\n        const collectionRef = projectFirestore.collection('images');\n\n\n        //uploads the file with reference ^\n        //listener fires functions when state changes\n        //snapshot in time of the upload at that moment in time\n        storageRef.put(file).on('state_changed', (snap) => {\n            //percentage of the upload\n            let percentage = (snap.bytesTransferred / snap.totalBytes) * 100;\n            setProgress(percentage);\n        }, (err) => {\n            setError(err);\n        }, async () => {\n            const url = await storageRef.getDownloadURL();\n            const createdAt = timestamp();\n            const name = file.name;\n            collectionRef.add({ url, createdAt, userID: currentUser.uid, name })\n            setUrl(url);\n        })\n    }, [file, currentUser]) //everytime file changes this effect will fire\n    //these will be the the values you can access\n    return { progress, url, error }\n}\n\nexport default useStorage;\n","import React, { useEffect } from 'react'\nimport useStorage from '../hooks/useStorage'\nimport { CircularProgress, makeStyles } from '@material-ui/core';\nimport { green } from '@material-ui/core/colors';\n\nconst useStyles = makeStyles((theme) => ({\n    fabProgress: {\n        color: green[500],\n        position: 'absolute',\n        top: -6,\n        left: -6,\n        zIndex: 1,\n    },\n}));\n\nconst ProgressBar = ({ file, setFile }) => {\n    const classes = useStyles();\n    const { url, progress } = useStorage(file);\n    console.log(progress, url);\n\n    //if file is null there is no more progressbar\n    //so reset the file to null after obtaining a url, which means it has finished uploading\n    useEffect(() => {\n        if (url) {\n            setFile(null);\n        }\n    }, [url, setFile])\n\n    return (\n        // <div className=\"progress-bar\" style={{ width: progress + '%' }}></div>\n        // <div><LinearProgress variant=\"determinate\" value={progress} /></div>\n        <div><CircularProgress variant=\"determinate\" className={classes.fabProgress} size={68} value={progress} /></div>\n    )\n}\nexport default ProgressBar;","import { useState, useEffect } from 'react';\nimport { projectFirestore } from '../firebase';\n\n//This hook gets all documents saved in firestore collection\nconst useFirestore = (collection) => {\n    const [docs, setDocs] = useState([]);\n\n    useEffect(() => {\n        const unsub = projectFirestore.collection(collection)\n            .orderBy('createdAt', 'desc')\n            .onSnapshot((snap) => {\n                let documents = [];\n                snap.forEach(doc => {\n                    // For each document push these data into documents\n                    documents.push({ ...doc.data(), id: doc.id })\n                });\n                setDocs(documents)\n            })\n        //unsub when no longer using collection\n        return () => unsub();\n    }, [collection])\n\n    return { docs };\n}\n\nexport default useFirestore;","import { useState, useEffect } from 'react';\nimport { projectFirestore } from '../firebase';\n\n//This hook gets all documents saved in firestore collection\nconst useFirestore2 = (collection) => {\n    const [docs2, setDocs] = useState([]);\n\n    useEffect(() => {\n        const unsub = projectFirestore.collection(collection)\n\n            .onSnapshot((snap) => {\n                let documents = [];\n                snap.forEach(doc => {\n                    // For each document push these data into documents\n                    documents.push({ ...doc.data(), id: doc.id })\n                });\n                setDocs(documents)\n            })\n        //unsub when no longer using collection\n        return () => unsub();\n    }, [collection])\n\n    return { docs2 };\n}\n\nexport default useFirestore2;","import React, { useState } from 'react';\nimport useFirestore from '../hooks/useFirestore';\nimport useFirestore2 from '../hooks/useFirestore2'\nimport { Typography, IconButton, Card } from '@material-ui/core'\nimport { DeleteForever } from '@material-ui/icons'\nimport { projectFirestore } from '../firebase';\nimport { useAuth } from '../contexts/AuthContext'\nimport { useAlert } from \"react-alert\";\nimport { projectStorage } from '../firebase'\nimport Masonry, { ResponsiveMasonry } from \"react-responsive-masonry\"\nimport ModalImage from \"react-modal-image\";\n\n\nconst ImageGrid = () => {\n    const { docs } = useFirestore('images');\n    const { docs2 } = useFirestore2('accounts');\n    const { currentUser } = useAuth();\n    const [error, setError] = useState(\"\");\n    const alert = useAlert();\n    const [mouse, setMouse] = useState(false);\n\n    const onMouseEnter = () => {\n        return setMouse(true);\n    }\n\n    const onMouseLeave = () => {\n        return setMouse(false);\n    }\n    // Disable value in button\n    // Returns false for the disable button if the current user wants to delete own pic\n    const handleButton = (imageId) => {\n        if (imageId !== currentUser.uid) {\n            return false;\n        }\n        else {\n            return true;\n        }\n    }\n\n    //Delete an image. Current user can only delete own images\n    const handleDeleteImage = (value, id, url) => {\n        const imgRef = projectStorage.refFromURL(url);\n        if (id === currentUser.uid) {\n            setError('');\n\n            // Delete image from storage\n            imgRef.delete()\n                .then(function () {\n                    console.log('storage delete successfull!')\n                })\n                .catch(function (error) {\n                    console.error(\"Error removing document: \", error);\n                })\n\n            // Delete image from images collection\n            projectFirestore.collection('images').doc(value).delete()\n                .then(function () {\n                    console.log(\"Document successfully deleted!\");\n                    alert.success(\"Image deleted succesfully\");\n                })\n                .catch(function (error) {\n                    console.error(\"Error removing document: \", error);\n                });\n        }\n        else {\n            setError('That is not your picture!')\n            console.log(error)\n            alert.error(\"You can't delete other user's photos\");\n        }\n    };\n\n    console.log(docs);\n\n    return <ResponsiveMasonry\n        //Breakpoints for pixels per column \n        //pixels : column\n        columnsCountBreakPoints={{ 350: 1, 750: 2, 900: 3 }}\n    >\n        <Masonry gutter=\"10px\">\n            {docs && docs\n                // For every image\n                .map(image => (\n                    <div>\n                        {docs2 && docs2\n                            // For every single image:\n                            // Filter statament only contains the user of specific image\n                            // https://medium.com/poka-techblog/simplify-your-javascript-use-map-reduce-and-filter-bd02c593cc2d\n                            .filter((user) => image.userID === user.userID)\n                            //Now you have the user that belongs to the image.ID\n                            .map(user => (\n                                <div>\n                                    <div\n                                        onMouseEnter={() => onMouseEnter()}\n                                        onMouseLeave={() => onMouseLeave()}\n                                    >\n                                        <ModalImage\n                                            small={image.url}\n                                            medium={image.url}\n                                            alt={image.name}\n                                            hideDownload\n                                            hideZoom\n                                        />\n                                    </div>\n                                    <Card\n                                        key={image.id}\n                                        className=\"Card\"\n                                    >\n                                        {/* <img src={image.url} alt={image.name} key={image.id} style={{ width: \"100%\", display: \"block\" }} /> */}\n                                        <Typography gutterBottom variant=\"subtitle1\"> 'Title' by {user.userName}\n\n                                            {/* If the image is of the user then a delete button will render */}\n                                            {/* Delete button */}\n                                            {handleButton(image.userID) &&\n                                                <IconButton\n                                                    color=\"secondary\" aria-label=\"delete image\"\n                                                    onClick={() => handleDeleteImage(image.id, image.userID, image.url)}\n                                                    component=\"span\" >\n                                                    <DeleteForever />\n                                                </IconButton>}\n                                        </Typography>\n                                    </Card>\n                                </div>\n                            ))}\n                    </div>\n                ))\n            }\n        </Masonry>\n    </ResponsiveMasonry>\n}\nexport default ImageGrid;\n\n","import React, { useState } from 'react'\nimport { Grid, Typography, Card, Button, makeStyles, IconButton, Hidden, AppBar, Toolbar, Fab } from \"@material-ui/core\"\nimport { PhotoCamera, AccountBox, ExitToApp } from '@material-ui/icons'\nimport { Link, useHistory } from \"react-router-dom\"\nimport { Alert } from \"@material-ui/lab\"\nimport { useAuth } from '../contexts/AuthContext'\nimport ProgressBar from './ProgressBar'\nimport ImageGrid from './ImageGrid'\nimport { useAlert } from \"react-alert\";\n\nimport { green } from '@material-ui/core/colors';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport AddIcon from '@material-ui/icons/Add';\nimport CameraIcon from '@material-ui/icons/Camera';\nimport SearchIcon from '@material-ui/icons/Search';\nimport MoreIcon from '@material-ui/icons/MoreVert';\nimport AddAPhotoIcon from '@material-ui/icons/AddAPhoto';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\n\n\nconst useStyles = makeStyles((theme) => ({\n    internalCardContainer: {\n        '& > *': {\n            margin: theme.spacing(0),\n        },\n        padding: 5,\n    },\n    mainContainer: {\n        width: '100%',\n    },\n    input: {\n        display: 'none',\n    },\n    info: {\n        width: \"100%\",\n    },\n    card: {\n        width: '100%',\n        maxWidth: 600,\n        marginTop: 5,\n        marginBottom: 10\n    },\n    button: {\n        paddingTop: 5,\n        paddingBottom: 10,\n    },\n    icon: {\n        fontSize: '2em',\n    },\n    xsAppBar: {\n        top: 'auto',\n        bottom: 0,\n    },\n    fabButton: {\n        position: 'absolute',\n        zIndex: 1,\n        top: -30,\n        left: 0,\n        right: 0,\n        margin: '0 auto',\n    },\n    grow: {\n        flexGrow: 1,\n    },\n    toolbar: {\n        toolbar: theme.mixins,\n        margin: 0,\n    },\n    root: {\n        flexGrow: 1,\n    },\n    menuButton: {\n        marginRight: theme.spacing(2),\n    },\n    title: {\n        flexGrow: 1,\n    },\n    fabProgress: {\n        color: green[500],\n        position: 'absolute',\n        top: -6,\n        left: -6,\n        zIndex: 1,\n    },\n}));\n\nexport default function Dashboard() {\n    const classes = useStyles();\n\n    const [error, setError] = useState(\"\")\n    const history = useHistory()\n    const { currentUser, logout } = useAuth()\n    const alert = useAlert();\n\n\n    //Log out handler\n    async function handleLogout() {\n        setError('')\n        try {\n            await logout()\n            history.push('/login')\n        }\n        catch {\n            setError('Failed to logout')\n        }\n    }\n\n\n    //Store image hook\n    const [file, setFile] = useState(null);\n\n    //Allowed filetypes\n    const types = ['image/png', 'image/jpeg'];\n\n    //Image handler\n    //selected image\n    const changeHandler = (e) => {\n        let selected = e.target.files[0];\n        console.log(selected)\n        //Check if a file is selected\n        if (selected && types.includes(selected.type)) {\n            //store the file\n            setFile(selected);\n            setError('');\n            alert.success(\"Image succesfully uploaded\");\n        }\n        else {\n            setFile(null);\n            setError('Please select an image file (png or jpeg)')\n        }\n    }\n\n    // Menu items\n\n    return (\n        // Main container with (Profile info and upload card) and (Image grid)\n        <Grid container justify=\"center\">\n\n            {/* Desktop appbar */}\n            <Hidden xsDown>\n                <AppBar position=\"static\">\n                    <Toolbar>\n\n                        {/* Camera */}\n                        <input\n                            accept=\"image/*\"\n                            className={classes.input}\n                            id=\"icon-button-file\"\n                            type=\"file\"\n                            onChange={changeHandler}\n                        />\n                        <label htmlFor=\"icon-button-file\">\n                            <IconButton edge=\"end\" className={classes.menuButton} color=\"inherit\" aria-label=\"uploadPhoto\" component=\"span\">\n                                <AddAPhotoIcon />\n                            </IconButton>\n                        </label>\n\n                        {/* Account  */}\n                        <IconButton component={Link} to={\"./UpdateProfile\"} edge=\"end\" className={classes.menuButton} color=\"inherit\" aria-label=\"menu\">\n                            <AccountCircle />\n                        </IconButton>\n\n                        <Typography variant=\"h1\" className={classes.title}>Storygram</Typography>\n                        <Typography variant=\"h6\" className={classes.title}>{currentUser.displayName}</Typography>\n                        <Button color=\"inherit\" onClick={handleLogout}>Logout</Button>\n                    </Toolbar>\n                </AppBar>\n            </Hidden>\n\n            {/* Mobile app bar */}\n            <Hidden smUp>\n                <AppBar position=\"fixed\" color=\"primary\" className={classes.xsAppBar}>\n                    <Toolbar>\n                        <Typography>{currentUser.displayName}</Typography>\n                        <input\n                            accept=\"image/*\"\n                            className={classes.input}\n                            id=\"icon-button-file\"\n                            type=\"file\"\n                            onChange={changeHandler}\n                        />\n                        <label htmlFor=\"icon-button-file\">\n                            <Fab color=\"secondary\" aria-label=\"add\" className={classes.fabButton} component=\"span\">\n                                <CameraIcon />\n                            </Fab>\n                        </label>\n                        {file && <ProgressBar file={file} setFile={setFile} />}\n\n                        <div className={classes.grow} />\n                        <IconButton component={Link} to={\"./UpdateProfile\"} edge=\"end\" className={classes.menuButton} color=\"inherit\" aria-label=\"menu\">\n                            <AccountCircle />\n                        </IconButton>\n                        <IconButton edge=\"end\" color=\"inherit\" onClick={handleLogout}>\n                            <ExitToAppIcon />\n                        </IconButton>\n                    </Toolbar>\n                </AppBar>\n            </Hidden>\n\n            {/* Title container */}\n            <Grid item xs={12} sm={8} align=\"center\">\n                <Card className={classes.card} align=\"center\">\n                    <Grid container direction=\"column\" className={classes.internalCardContainer}>\n                        {/* User info */}\n                        <Grid item align=\"center\">\n                            <Typography align=\"center\" variant=\"h2\">Storygram</Typography>\n                        </Grid>\n\n                        {/* Information message output */}\n                        <Grid item className={classes.info}>\n                            {/* If left statement then right statement.. */}\n                            {error && <Alert severity=\"error\">{error}</Alert>}\n                            {file && <Alert severity=\"info\">Selected image: {file.name}</Alert>}\n                        </Grid>\n                        {/* {file && <ProgressBar file={file} setFile={setFile} />} */}\n\n                    </Grid>\n                </Card>\n            </Grid>\n            {/* </Grid> */}\n\n            {/* Image grid imported from ImageGrid.js*/}\n            <Grid item xs={12} align=\"center\">\n                <ImageGrid />\n            </Grid>\n        </Grid >\n    )\n}\n","import React, { useRef, useState } from 'react';\nimport { TextField, Card, Button, Grid, Typography } from '@material-ui/core';\nimport Alert from '@material-ui/lab/Alert';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useAuth } from '../contexts/AuthContext';\n//useHistory hook for rerouting to dashboard after login\nimport { Link, useHistory } from \"react-router-dom\";\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        '& > *': {\n            margin: theme.spacing(1),\n        },\n        width: '80%',\n    },\n    container: {\n        height: '100vh',\n    },\n    card: {\n        width: '100%',\n        //Below the card itself\n        marginBottom: 10,\n        //Below the signup button\n        paddingBottom: 5,\n    },\n    inputField: {\n        width: '100%',\n        maxWidth: 350,\n    }\n}));\n\nexport default function Login() {\n    const classes = useStyles()\n\n    const emailRef = useRef()\n    const passwordRef = useRef()\n    const { login } = useAuth()\n    const [error, setError] = useState('')\n    const [loading, setLoading] = useState(false)\n    const history = useHistory()\n\n    //handles the signup\n    //function that handles the submit info (email and password) and error handling (see useRef hooks)\n    async function handleSubmit(e) {\n        //preventDefault prevents refreshing\n        e.preventDefault();\n        try {\n            setError(\"\");\n            setLoading(true);\n            //login logic\n            await login(emailRef.current.value, passwordRef.current.value);\n            history.push(\"/\");\n        } catch {\n            setError(\"Failed to log in\");\n        }\n        setLoading(false);\n    }\n\n    return (\n        <Grid container className={classes.container} justify='center' alignItems='center'>\n            <Grid item xs={12} sm={6}>\n                <Card className={classes.card}>\n                    <Grid container justify=\"center\" direction=\"column\" alignItems=\"center\" >\n                        <Typography align='center' variant=\"h3\" component=\"h2\">\n                            Login\n                        </Typography>\n                        {error && <Alert severity=\"error\">{error}</Alert>}\n                        <form onSubmit={handleSubmit} align='center' className={classes.root} >\n                            <Grid item>\n                                <TextField\n                                    className={classes.inputField}\n                                    required\n                                    id=\"email-input\"\n                                    label=\"Email\"\n                                    inputRef={emailRef}\n                                    textalign='center'\n                                />\n                            </Grid>\n                            <Grid item>\n                                <TextField\n                                    className={classes.inputField}\n                                    required\n                                    id=\"password-input\"\n                                    label=\"Password\"\n                                    type=\"password\"\n                                    autoComplete=\"current-password\"\n                                    inputRef={passwordRef}\n                                />\n                            </Grid>\n                            <Button disabled={loading} variant=\"contained\" color=\"primary\" type=\"submit\">\n                                Login\n                            </Button>\n                            <Typography><Link to='/forgot-password'>Forgot password?</Link></Typography>\n                        </form>\n                    </Grid>\n                </Card>\n                <Typography align='center' variant=\"subtitle1\" component=\"h2\">\n                    Need an account? <Link to=\"/signup\">Sign up</Link>\n                </Typography>\n            </Grid>\n        </Grid>\n    )\n}\n","import React, { useRef, useState } from 'react';\nimport { TextField, Card, Button, Grid, Typography } from '@material-ui/core';\nimport Alert from '@material-ui/lab/Alert';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useAuth } from '../contexts/AuthContext';\n//useHistory hook for rerouting to dashboard after login\nimport { Link } from \"react-router-dom\";\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        '& > *': {\n            margin: theme.spacing(1),\n        },\n        width: '80%',\n    },\n    container: {\n        height: '100vh',\n    },\n    card: {\n        width: '100%',\n        //Below the card itself\n        marginBottom: 10,\n        //Below the signup button\n        paddingBottom: 5,\n    },\n    inputField: {\n        width: '100%',\n        maxWidth: 350,\n    }\n}));\n\nexport default function ForgotPassword() {\n    const classes = useStyles()\n\n    const emailRef = useRef()\n    const { resetPassword } = useAuth()\n    const [error, setError] = useState('')\n    const [message, setMessage] = useState('')\n    const [loading, setLoading] = useState(false)\n\n\n    //handles the signup\n    //function that handles the submit info (email and password) and error handling (see useRef hooks)\n    async function handleSubmit(e) {\n        //preventDefault prevents refreshing\n        e.preventDefault()\n        try {\n            setMessage('')\n            setError(\"\")\n            setLoading(true)\n            //reset \n            await resetPassword(emailRef.current.value)\n            setMessage('Check your email')\n        } catch {\n            setError(\"Failed to reset password\")\n        }\n        setLoading(false)\n    }\n\n    return (\n        <Grid container className={classes.container} justify='center' alignItems='center'>\n            <Grid item xs={12} sm={6}>\n                <Card className={classes.card}>\n                    <Grid container justify=\"center\" direction=\"column\" alignItems=\"center\" >\n                        <Typography align='center' variant=\"h3\" component=\"h2\">\n                            Reset Password\n                        </Typography>\n                        {error && <Alert severity=\"error\">{error}</Alert>}\n                        {message && <Alert severity=\"success\">{message}</Alert>}\n                        <form onSubmit={handleSubmit} align='center' className={classes.root} >\n                            <Grid item>\n                                <TextField\n                                    className={classes.inputField}\n                                    required\n                                    id=\"email-input\"\n                                    label=\"Email\"\n                                    inputRef={emailRef}\n                                    textalign='center'\n                                />\n                            </Grid>\n                            <Button disabled={loading} variant=\"contained\" color=\"primary\" type=\"submit\">\n                                Reset Password\n                            </Button>\n                            <Typography><Link to='/login'>Login</Link></Typography>\n                        </form>\n                    </Grid>\n                </Card>\n                <Typography align='center' variant=\"subtitle1\" component=\"h2\">\n                    Need an account? <Link to=\"/signup\">Sign up</Link>\n                </Typography>\n            </Grid>\n        </Grid>\n    )\n}\n","import React, { useRef, useState } from 'react';\nimport { TextField, Card, Button, Grid, Typography, DialogActions, Dialog, DialogTitle, DialogContentText, DialogContent } from '@material-ui/core';\nimport Alert from '@material-ui/lab/Alert';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useAuth } from '../contexts/AuthContext'\nimport { Link, useHistory } from \"react-router-dom\"\nimport { projectFirestore } from '../firebase'\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        '& > *': {\n            margin: theme.spacing(1),\n        },\n        width: '80%',\n    },\n    container: {\n        height: '100vh',\n    },\n    card: {\n        width: '100%',\n        //Below the card itself\n        marginBottom: 10,\n        //Below the signup button\n        paddingBottom: 5,\n    },\n    inputField: {\n        width: '100%',\n        maxWidth: 350,\n    }\n}));\n\nexport default function UpdateProfile() {\n    const classes = useStyles()\n\n    const emailRef = useRef();\n    const passwordRef = useRef();\n    const passwordConfirmRef = useRef();\n    const displayNameRef = useRef();\n    const { currentUser, updatePassword, updateEmail, updateDisplayName, deleteAccount } = useAuth();\n    const [error, setError] = useState('');\n    const [loading, setLoading] = useState(false);\n    const history = useHistory();\n    const accounts = projectFirestore.collection('accounts');\n\n    //Delete account handler (todo: need to delete all images still)\n    async function handleDelete() {\n        setError('')\n        try {\n            await deleteAccount()\n            history.push('/login')\n\n        }\n        catch (error) {\n            setError(error.message)\n        }\n\n    }\n    // Dialog box \n    const [dialog, setOpenDialog] = React.useState(false);\n\n    const openDialog = () => {\n        setOpenDialog(true);\n    };\n\n    const closeDialog = () => {\n        setOpenDialog(false);\n    };\n\n    //handles the signup\n    //function that handles the submit info (email and password) and error handling (see useRef hooks)\n    function handleSubmit(e) {\n        //preventDefault prevents refreshing\n        e.preventDefault()\n        //if both passwords are not the same\n        if (passwordRef.current.value !== passwordConfirmRef.current.value) {\n            return setError(\"Passwords do not match\")\n        }\n        //wait untill all promises finish before throwing errors\n        const promises = []\n        setLoading(true)\n        setError(\"\")\n\n        //Update email\n        //if  email is not equal to current email\n        if (emailRef.current.value !== currentUser.email) {\n            //update email with current value\n            promises.push(updateEmail(emailRef.current.value))\n        }\n\n        //Update Username\n        //if  username is not equal to current username\n        if (displayNameRef.current.value !== currentUser.displayName) {\n            //update username with current value\n            promises.push(updateDisplayName(displayNameRef.current.value))\n            //update data in account collection\n            promises.push(accounts.doc(currentUser.uid).update({\n                userName: displayNameRef.current.value\n            }));\n        }\n\n        //Update password\n        //update password with current value (if there is a value ofcourse)\n        if (passwordRef.current.value) {\n            promises.push(updatePassword(passwordRef.current.value))\n        }\n\n        //if all promises are succsful redirect to homepage\n        Promise.all(promises).then(() => {\n            history.push('/')\n            //catch the error\n        }).catch((error) => {\n            setError(error.message)\n            //setLoading state to false again\n        }).finally(() => {\n            setLoading(false)\n        })\n    }\n\n    return (\n        <Grid container className={classes.container} justify='center' alignItems='center'>\n            <Grid item xs={12} sm={6}>\n                <Card className={classes.card}>\n                    <Grid container justify=\"center\" direction=\"column\" alignItems=\"center\" >\n                        <Typography align='center' variant=\"h3\" component=\"h2\">\n                            Update Profile\n                        </Typography>\n                        {error && <Alert severity=\"error\">{error}</Alert>}\n                        <form onSubmit={handleSubmit} align='center' className={classes.root} >\n                            {/* Grid item for username and email */}\n                            <Grid item>\n                                {/* Username */}\n                                <TextField\n                                    className={classes.inputField}\n                                    id=\"display-name\"\n                                    label=\"Display Name\"\n                                    inputRef={displayNameRef}\n                                    textalign='center'\n                                    defaultValue={currentUser.displayName}\n                                    placeholder=\"Leave empty to keep the same\"\n                                    InputLabelProps={{\n                                        shrink: true,\n                                    }}\n                                />\n                                {/* Email */}\n                                <TextField\n                                    className={classes.inputField}\n                                    required\n                                    id=\"email-input\"\n                                    label=\"Email\"\n                                    inputRef={emailRef}\n                                    textalign='center'\n                                    defaultValue={currentUser.email}\n                                />\n                            </Grid>\n                            {/* Password */}\n                            <Grid item>\n                                <TextField\n                                    className={classes.inputField}\n                                    id=\"password-input\"\n                                    label=\"Password\"\n                                    type=\"password\"\n                                    autoComplete=\"current-password\"\n                                    inputRef={passwordRef}\n                                    placeholder=\"Leave empty to keep the same\"\n                                    InputLabelProps={{\n                                        shrink: true,\n                                    }}\n                                />\n                            </Grid>\n                            {/* Password check */}\n                            <Grid item>\n                                <TextField\n                                    className={classes.inputField}\n                                    id=\"password-confirm\"\n                                    label=\"Password-confirm\"\n                                    type=\"password\"\n                                    autoComplete=\"current-password\"\n                                    inputRef={passwordConfirmRef}\n                                    placeholder=\"Leave empty to keep the same\"\n                                    InputLabelProps={{\n                                        shrink: true,\n                                    }}\n                                />\n                            </Grid>\n                            {/* Update button */}\n                            <Button disabled={loading} variant=\"contained\" color=\"primary\" type=\"submit\">\n                                Update\n                            </Button>\n                        </form>\n\n                        {/* Delete account button */}\n                        <Grid item align='center' className={classes.button} xs={6} sm={3}>\n                            <Button onClick={openDialog} align='center' variant=\"contained\" color=\"secondary\" component=\"h2\">Delete Account</Button>\n                            <Dialog\n                                open={dialog}\n                                onClose={closeDialog}\n                                aria-labelledby=\"alert-dialog-title\"\n                                aria-describedby=\"alert-dialog-description\"\n                            >\n                                <DialogTitle id=\"alert-dialog-title\">{\"Are you sure you want to delete your account?\"}</DialogTitle>\n                                <DialogContent>\n                                    <DialogContentText id=\"alert-dialog-description\">\n                                        Deleting your account can not be undone.\n                                    </DialogContentText>\n                                </DialogContent>\n                                <DialogActions>\n                                    <Button onClick={closeDialog} color=\"primary\">\n                                        Cancel\n                                    </Button>\n                                    <Button onClick={handleDelete} color=\"primary\" autoFocus>\n                                        Delete\n                                    </Button>\n                                </DialogActions>\n                            </Dialog>\n                        </Grid>\n\n                    </Grid>\n                </Card>\n                <Typography align='center' variant=\"subtitle1\" component=\"h2\">\n                    <Link to=\"/\">Cancel</Link>\n                </Typography>\n\n            </Grid>\n        </Grid>\n    )\n}\n","import React from \"react\"\nimport { Route, Redirect } from \"react-router-dom\"\nimport { useAuth } from \"../contexts/AuthContext\"\n\nexport default function PrivateRoute({ component: Component, ...rest }) {\n    const { currentUser } = useAuth()\n\n    return (\n        //This is important as to not render the dashboard component when no user is logged in or after logging out\n        <Route\n            {...rest}\n            //If there is a current user then render out the component\n            //If there is no user, redirect to login page \n            render={props => {\n                return currentUser ? <Component {...props} /> : <Redirect to=\"/login\" />\n            }}\n        ></Route>\n    )\n}","import { AuthProvider } from \"../contexts/AuthContext\";\nimport Signup from \"./Signup\";\nimport Dashboard from \"./Dashboard\";\nimport Login from \"./Login\";\nimport ForgotPassword from \"./ForgotPassword\"\nimport UpdateProfile from \"./UpdateProfile\"\n//https://create-react-app.dev/docs/deployment/\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport { Grid, makeStyles } from '@material-ui/core'\nimport PrivateRoute from './privateRoute'\n\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    minHeight: '100vh',\n    width: '100%',\n    maxWidth: 1920,\n  },\n  mainContainer: {\n    width: '100%',\n  }\n}));\n\nfunction App() {\n  const classes = useStyles()\n  return (\n    <Grid container className={classes.mainContainer} justify=\"center\">\n      <Grid container item justify=\"center\" className={classes.container} align='center'>\n        <Router basename=\"/storygram\">\n          <AuthProvider>\n            <Switch>\n              <PrivateRoute exact path=\"/\" component={Dashboard} />\n              <PrivateRoute exact path=\"/UpdateProfile\" component={UpdateProfile} />\n              <Route path=\"/signup\" component={Signup} />\n              <Route path=\"/login\" component={Login} />\n              <Route path=\"/forgot-password\" component={ForgotPassword} />\n            </Switch>\n          </AuthProvider>\n        </Router>\n      </Grid>\n    </Grid>\n  )\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport { transitions, positions, Provider as AlertProvider } from 'react-alert'\nimport AlertTemplate from 'react-alert-template-basic'\n\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport teal from '@material-ui/core/colors/teal';\nimport orange from '@material-ui/core/colors/orange';\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: teal,\n    secondary: orange,\n  },\n  typography: {\n    useNextVariants: true,\n\n    h1: {\n      fontFamily: \"'Big Shoulders Display', 'cursive'\",\n      fontSize: '3rem',\n    }\n\n  }\n});\n\n// Alert\n// optional configuration\nconst options = {\n  // you can also just use 'bottom center'\n  position: positions.BOTTOM_CENTER,\n  timeout: 5000,\n  offset: '30px',\n  // you can also just use 'scale'\n  transition: transitions.SCALE\n}\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <AlertProvider template={AlertTemplate} {...options}>\n      <MuiThemeProvider theme={theme}>\n        <App />\n      </MuiThemeProvider>,\n    </AlertProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\nserviceWorker.register();"],"sourceRoot":""}